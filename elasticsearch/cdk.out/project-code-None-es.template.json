{
  "Description": "Template for the ElasticSearch cluster instance",
  "Resources": {
    "esaccesssg0F8DCD84": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "project-code-None-es/es_access_sg",
        "GroupName": "None-es-access-sg",
        "SecurityGroupEgress": [
          {
            "CidrIp": "0.0.0.0/0",
            "Description": "Allow all outbound traffic by default",
            "IpProtocol": "-1"
          }
        ],
        "SecurityGroupIngress": [
          {
            "CidrIp": "10.0.0.0/16",
            "Description": "from 10.0.0.0/16:443",
            "FromPort": 443,
            "IpProtocol": "tcp",
            "ToPort": 443
          },
          {
            "CidrIp": "0.0.0.0/0",
            "Description": "from 0.0.0.0/0:443",
            "FromPort": 443,
            "IpProtocol": "tcp",
            "ToPort": 443
          }
        ],
        "Tags": [
          {
            "Key": "Name",
            "Value": "Elasticsearch Domain Instance Access Security Group"
          }
        ],
        "VpcId": "vpc-0d5bad0b84d2da84a"
      },
      "Metadata": {
        "aws:cdk:path": "project-code-None-es/es_access_sg/Resource"
      }
    },
    "EsDomain1213C634": {
      "Type": "AWS::Elasticsearch::Domain",
      "Properties": {
        "CognitoOptions": {
          "Enabled": false
        },
        "DomainEndpointOptions": {
          "EnforceHTTPS": false,
          "TLSSecurityPolicy": "Policy-Min-TLS-1-0-2019-07"
        },
        "DomainName": "None-es-domain",
        "EBSOptions": {
          "EBSEnabled": true,
          "VolumeSize": 100,
          "VolumeType": "gp3"
        },
        "ElasticsearchClusterConfig": {
          "DedicatedMasterEnabled": false,
          "InstanceCount": 1,
          "InstanceType": "r5.large.elasticsearch",
          "ZoneAwarenessEnabled": false
        },
        "ElasticsearchVersion": "7.9",
        "EncryptionAtRestOptions": {
          "Enabled": true
        },
        "LogPublishingOptions": {},
        "NodeToNodeEncryptionOptions": {
          "Enabled": false
        }
      },
      "UpdateReplacePolicy": "Retain",
      "DeletionPolicy": "Retain",
      "Metadata": {
        "aws:cdk:path": "project-code-None-es/EsDomain/Resource"
      }
    },
    "CDKMetadata": {
      "Type": "AWS::CDK::Metadata",
      "Properties": {
        "Analytics": "v2:deflate64:H4sIAAAAAAAAA1WMwQrCMBBEv6X3NKXqod6ECh4t9QuWdaWxJimbDVJC/l1D8eBpZh6PafXxoNvqBO9Q431uEnomnW4COKuRgo+MpPqHG4DBkhCXcY2yRFG9d0E4ohT2k7MqX4lw970hjGxkvbCPS5H+QFb0giAGAwHjpNPZWzCueFvLOathlcm7Zq873VXPYEzN0YmxpMctP3RyZGDCAAAA"
      },
      "Metadata": {
        "aws:cdk:path": "project-code-None-es/CDKMetadata/Default"
      }
    }
  },
  "Parameters": {
    "SsmParameterValuebasecertificatearnC96584B6F00A464EAD1953AFF4B05118Parameter": {
      "Type": "AWS::SSM::Parameter::Value<String>",
      "Default": "base-certificate-arn"
    }
  },
  "Outputs": {
    "SecurityGroupId": {
      "Description": "The security group used to manage access to Elasticsearch",
      "Value": {
        "Fn::GetAtt": [
          "esaccesssg0F8DCD84",
          "GroupId"
        ]
      },
      "Export": {
        "Name": "None-SecurityGroupId"
      }
    },
    "DomainArn": {
      "Value": {
        "Fn::GetAtt": [
          "EsDomain1213C634",
          "Arn"
        ]
      }
    },
    "DomainEndpoint": {
      "Description": "The domain-specific endpoint that is used to submit index, search, and data upload requests to an Amazon ES domain",
      "Value": {
        "Fn::GetAtt": [
          "EsDomain1213C634",
          "DomainEndpoint"
        ]
      },
      "Export": {
        "Name": "None-DomainName"
      }
    }
  }
}